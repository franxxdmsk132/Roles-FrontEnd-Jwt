{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst TOKEN_KEY = 'AuthToken';\nconst USERNAME_KEY = 'AuthUserName';\nconst AUTHORITIES_KEY = 'AuthAuthorities';\nexport let TokenService = /*#__PURE__*/(() => {\n  class TokenService {\n    roles = [];\n    constructor() {}\n    setToken(token) {\n      window.sessionStorage.removeItem(TOKEN_KEY);\n      window.sessionStorage.setItem(TOKEN_KEY, token);\n    }\n    getToken() {\n      return sessionStorage.getItem(TOKEN_KEY);\n    }\n    setUserName(userName) {\n      window.sessionStorage.removeItem(USERNAME_KEY);\n      window.sessionStorage.setItem(USERNAME_KEY, userName);\n    }\n    getUserName() {\n      return sessionStorage.getItem(USERNAME_KEY);\n    }\n    setAuthorities(authorities) {\n      window.sessionStorage.removeItem(AUTHORITIES_KEY);\n      window.sessionStorage.setItem(AUTHORITIES_KEY, JSON.stringify(authorities));\n    }\n    getAuthorities() {\n      this.roles = [];\n      if (sessionStorage.getItem(AUTHORITIES_KEY)) {\n        JSON.parse(sessionStorage.getItem(AUTHORITIES_KEY)).forEach(authority => {\n          this.roles.push(authority.authority);\n        });\n      }\n      return this.roles;\n    }\n    isAdmin() {\n      return this.getAuthorities().includes('ROLE_ADMIN');\n    }\n    isEmpl() {\n      return this.getAuthorities().includes('ROLE_EMPL');\n    }\n    logOut() {\n      window.sessionStorage.clear();\n    }\n    getUserRole() {\n      return localStorage.getItem('ROLE_ADMIN'); // Ejemplo de valor: 'admin' o 'user'\n    }\n    static ɵfac = function TokenService_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || TokenService)();\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: TokenService,\n      factory: TokenService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return TokenService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}