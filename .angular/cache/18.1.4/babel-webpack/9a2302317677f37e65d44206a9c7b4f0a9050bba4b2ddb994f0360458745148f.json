{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListaProductoComponent = class ListaProductoComponent {\n  productoService;\n  toastr;\n  tokenService;\n  productos = [];\n  roles;\n  isAdmin = false;\n  isEmpl = false;\n  constructor(productoService, toastr, tokenService) {\n    this.productoService = productoService;\n    this.toastr = toastr;\n    this.tokenService = tokenService;\n  }\n  ngOnInit() {\n    this.cargarProductos();\n    this.roles = this.tokenService.getAuthorities();\n    this.roles.forEach(rol => {\n      if (rol === 'ROLE_ADMIN') {\n        this.isAdmin = true;\n      }\n      if (rol === 'ROLE_EMPL') {\n        this.isEmpl = true;\n      }\n    });\n  }\n  cargarProductos() {\n    this.productoService.lista().subscribe(data => {\n      this.productos = data;\n    }, err => {\n      console.log(err);\n    });\n  }\n  borrar(id) {\n    this.productoService.delete(id).subscribe(data => {\n      this.toastr.success('Producto Eliminado', 'OK', {\n        timeOut: 3000,\n        positionClass: 'toast-top-center'\n      });\n      this.cargarProductos();\n    }, err => {\n      this.toastr.error(err.error.mensaje, 'Fail', {\n        timeOut: 3000,\n        positionClass: 'toast-top-center'\n      });\n    });\n  }\n};\nListaProductoComponent = __decorate([Component({\n  selector: 'app-lista-producto',\n  templateUrl: './lista-producto.component.html',\n  styleUrls: ['./lista-producto.component.css']\n})], ListaProductoComponent);\nexport { ListaProductoComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}